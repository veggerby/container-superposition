# Overlay Metadata
# This file defines all available overlays and their properties for the questionnaire

base_images:
  - id: bookworm
    name: Debian Bookworm (Recommended)
    description: Stable, battle-tested base with broad compatibility
    image: mcr.microsoft.com/devcontainers/base:bookworm
    package_manager: apt
    
  - id: trixie
    name: Debian Trixie
    description: Newer packages, testing stability
    image: mcr.microsoft.com/devcontainers/base:trixie
    package_manager: apt
    
  - id: alpine
    name: Alpine Linux
    description: Minimal footprint (~5MB), apk package manager
    image: mcr.microsoft.com/devcontainers/base:alpine
    package_manager: apk
    
  - id: ubuntu
    name: Ubuntu LTS
    description: Popular, familiar, extensive package ecosystem
    image: mcr.microsoft.com/devcontainers/base:ubuntu
    package_manager: apt
    
  - id: custom
    name: Custom Image
    description: Specify your own (may conflict with overlays)
    image: null  # User will provide
    package_manager: apt  # Assume apt by default

base_templates:
  - id: plain
    name: Plain (Image-based)
    description: Minimal Debian image for simple projects
    
  - id: compose
    name: Compose (Multi-service)
    description: Docker Compose infrastructure for complex applications

language_overlays:
  - id: dotnet
    name: .NET
    description: .NET 10 SDK with C# DevKit
    category: language
    supports: [] # Empty = all templates
    requires: []
    suggests: []
    conflicts: []
    tags: [language, dotnet, csharp]
    ports: []
    
  - id: nodejs
    name: Node.js
    description: Node.js LTS with TypeScript and tooling
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, nodejs, javascript, typescript]
    ports: []
    
  - id: python
    name: Python
    description: Python 3.12 with linting and formatting
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, python]
    ports: []
    
  - id: mkdocs
    name: MkDocs
    description: Material for MkDocs - professional documentation generator
    category: language
    supports: []
    requires: [python]
    suggests: []
    conflicts: []
    tags: [documentation, mkdocs, python]
    ports: [8000]
    
  - id: java
    name: Java
    description: Eclipse Temurin JDK 21 with Maven and Gradle
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, java, maven, gradle]
    ports: [8080, 8081]
    
  - id: go
    name: Go
    description: Go latest stable with gopls and delve debugger
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, go, golang]
    ports: [8080, 8081]
    
  - id: rust
    name: Rust
    description: Rust stable with cargo, rustfmt, and clippy
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, rust, cargo]
    ports: [8080, 3000]
    
  - id: bun
    name: Bun
    description: Bun runtime - faster JavaScript runtime and package manager
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, bun, javascript, typescript]
    ports: [3000, 8080]
    
  - id: powershell
    name: PowerShell
    description: PowerShell Core for cross-platform scripting and automation
    category: language
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [language, powershell, scripting]
    ports: []

database_overlays:
  - id: postgres
    name: PostgreSQL
    description: PostgreSQL 16 database
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, sql, postgres]
    ports: [5432]
    
  - id: redis
    name: Redis
    description: Redis 7 cache
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, cache, redis]
    ports: [6379]
    
  - id: mongodb
    name: MongoDB
    description: MongoDB 8 with Mongo Express web UI
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, nosql, mongodb, document]
    ports: [27017, 8081]
    
  - id: mysql
    name: MySQL
    description: MySQL 8 with phpMyAdmin web UI
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, sql, mysql]
    ports: [3306, 8080]
    
  - id: sqlserver
    name: SQL Server
    description: SQL Server 2022 for Linux
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: [dotnet]
    conflicts: []
    tags: [database, sql, sqlserver, microsoft]
    ports: [1433]
    
  - id: sqlite
    name: SQLite
    description: SQLite with litecli and VS Code extensions
    category: database
    supports: [] # Works with both plain and compose
    requires: []
    suggests: [python]
    conflicts: []
    tags: [database, sql, sqlite, embedded]
    ports: []
    
  - id: minio
    name: MinIO
    description: S3-compatible object storage with web console
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, storage, s3, object-storage, minio]
    ports: [9000, 9001]
    
  - id: rabbitmq
    name: RabbitMQ
    description: Message broker with AMQP protocol and management UI
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, messaging, queue, rabbitmq, amqp]
    ports: [5672, 15672]
    
  - id: redpanda
    name: Redpanda
    description: Kafka-compatible event streaming with web console
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, messaging, streaming, kafka, redpanda]
    ports: [9092, 8080, 8081, 8082, 9644]
    
  - id: nats
    name: NATS
    description: Lightweight pub/sub messaging with JetStream
    category: database
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: []
    tags: [database, messaging, pubsub, nats, jetstream]
    ports: [4222, 8222]

observability_overlays:
  - id: otel-collector
    name: OpenTelemetry Collector
    description: Telemetry collection pipeline
    category: observability
    order: 2
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: [jaeger, prometheus]
    conflicts: []
    tags: [observability, telemetry, opentelemetry]
    ports: [4317, 4318, 8888, 8889]
    
  - id: jaeger
    name: Jaeger
    description: Distributed tracing backend
    category: observability
    order: 1
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: []
    conflicts: [tempo]
    tags: [observability, tracing, jaeger]
    ports: [16686, 14250, 14268]
    
  - id: tempo
    name: Tempo
    description: Lightweight distributed tracing backend (alternative to Jaeger)
    category: observability
    order: 1
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: [otel-collector, grafana]
    conflicts: [jaeger]
    tags: [observability, tracing, tempo, grafana]
    ports: [3200]
    
  - id: prometheus
    name: Prometheus
    description: Metrics collection and monitoring
    category: observability
    order: 1
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: [alertmanager]
    conflicts: []
    tags: [observability, metrics, prometheus]
    ports: [9090]
    
  - id: alertmanager
    name: Alertmanager
    description: Alert routing and notification management for Prometheus
    category: observability
    order: 2
    supports: [compose] # Requires docker-compose
    requires: [prometheus]
    suggests: []
    conflicts: []
    tags: [observability, alerts, prometheus]
    ports: [9093]
    
  - id: grafana
    name: Grafana
    description: Observability visualization dashboard with auto-provisioning
    category: observability
    order: 3
    supports: [compose] # Requires docker-compose
    requires: [prometheus]
    suggests: [loki, jaeger, tempo, promtail]
    conflicts: []
    tags: [observability, ui, visualization]
    ports: [3000]
    
  - id: loki
    name: Loki
    description: Log aggregation system
    category: observability
    order: 1
    supports: [compose] # Requires docker-compose
    requires: []
    suggests: [promtail]
    conflicts: []
    tags: [observability, logs, loki]
    ports: [3100]
    
  - id: promtail
    name: Promtail
    description: Log shipping agent for Loki with Docker auto-discovery
    category: observability
    order: 2
    supports: [compose] # Requires docker-compose
    requires: [loki]
    suggests: []
    conflicts: []
    tags: [observability, logs, promtail, loki]
    ports: []
    
  - id: otel-demo-nodejs
    name: OTel Demo (Node.js)
    description: Sample Node.js app with OpenTelemetry instrumentation
    category: observability
    order: 4
    supports: [compose] # Requires docker-compose
    requires: [otel-collector]
    suggests: [jaeger, tempo, prometheus, loki, grafana]
    conflicts: []
    tags: [observability, demo, nodejs, opentelemetry]
    ports: [8080]
    
  - id: otel-demo-python
    name: OTel Demo (Python)
    description: Sample Python Flask app with OpenTelemetry instrumentation
    category: observability
    order: 4
    supports: [compose] # Requires docker-compose
    requires: [otel-collector]
    suggests: [jaeger, tempo, prometheus, loki, grafana]
    conflicts: []
    tags: [observability, demo, python, opentelemetry]
    ports: [8081]

cloud_tool_overlays:
  - id: aws-cli
    name: AWS CLI
    description: Amazon Web Services command-line tools
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, aws, cli]
    ports: []
    
  - id: azure-cli
    name: Azure CLI
    description: Microsoft Azure command-line tools
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, azure, cli]
    ports: []
    
  - id: gcloud
    name: Google Cloud SDK
    description: Google Cloud Platform command-line tools (gcloud, gsutil, bq)
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, gcp, google, cli]
    ports: []
    
  - id: kubectl-helm
    name: kubectl + Helm
    description: Kubernetes CLI and Helm package manager
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, kubernetes, helm]
    ports: []
    
  - id: terraform
    name: Terraform
    description: Infrastructure as Code with HCL (includes tflint)
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, iac, terraform, infrastructure]
    ports: []
    
  - id: pulumi
    name: Pulumi
    description: Modern Infrastructure as Code with TypeScript/Python/Go
    category: cloud
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [cloud, iac, pulumi, infrastructure]
    ports: []

dev_tool_overlays:
  - id: docker-in-docker
    name: Docker-in-Docker
    description: Isolated Docker daemon inside container (portable, works in Codespaces)
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: [docker-sock]
    tags: [dev, docker]
    ports: []
    
  - id: docker-sock
    name: Docker (host socket)
    description: Access host Docker daemon via socket mount (fast, local-only)
    category: dev
    supports: [] 
    requires: []
    suggests: []
    conflicts: [docker-in-docker]
    tags: [dev, docker]
    ports: []
    
  - id: playwright
    name: Playwright
    description: Browser automation and testing framework
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, testing, browser]
    ports: []
    
  - id: codex
    name: Codex
    description: pnpm CLI with mounted .codex folder
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, package-manager]
    ports: []
    
  - id: git-helpers
    name: Git Helpers
    description: Git LFS, GitHub CLI, GPG/SSH support for secure Git operations
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, git, security, ssh, gpg]
    ports: []
    
  - id: pre-commit
    name: Pre-commit Framework
    description: Automated code quality gates with pre-commit hooks
    category: dev
    supports: []
    requires: []
    suggests: [commitlint]
    conflicts: []
    tags: [dev, git, quality, hooks]
    ports: []
    
  - id: commitlint
    name: Commitlint
    description: Conventional commits validation for automated releases
    category: dev
    supports: []
    requires: []
    suggests: [pre-commit]
    conflicts: []
    tags: [dev, git, commits, semantic-release]
    ports: []
    
  - id: just
    name: Just Task Runner
    description: Fast, simple command runner (Rust-based alternative to Make)
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, automation, tasks]
    ports: []
    
  - id: direnv
    name: direnv
    description: Per-directory environment variable management
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, environment, automation]
    ports: []
    
  - id: modern-cli-tools
    name: Modern CLI Tools
    description: jq, yq, ripgrep, fd, bat - Essential modern command-line tools
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, cli, productivity]
    ports: []
    
  - id: ngrok
    name: ngrok
    description: Secure tunneling for webhook testing and external access
    category: dev
    supports: []
    requires: []
    suggests: []
    conflicts: []
    tags: [dev, tunneling, webhooks]
    ports: [4040]
