version: '3.8'
services:
    jaeger:
        image: jaegertracing/all-in-one:${JAEGER_VERSION:-latest}
        environment:
            - COLLECTOR_OTLP_ENABLED=true
        ports:
            - '${JAEGER_UI_PORT:-16686}:16686' # Jaeger UI
            # - "${JAEGER_OTLP_GRPC_PORT:-4317}:4317"   # OTLP gRPC receiver
            # - "${JAEGER_OTLP_HTTP_PORT:-4318}:4318"   # OTLP HTTP receiver
            # Note: OTLP ports (4317/4318) are not exposed to avoid conflict with otel-collector
            # Apps should send telemetry to otel-collector, which forwards to Jaeger if both are used
        networks:
            - devnet

networks:
    devnet:
